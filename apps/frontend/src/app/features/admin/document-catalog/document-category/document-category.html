<div class="document-categories">
  <div class="document-categories__header">
    <div class="header__group">
      <!-- <div class="header__title">
        <h2>Quáº£n lÃ½ phÃ¢n loáº¡i cÃ´ng vÄƒn</h2>
      </div> -->
      <div class="header__search">
        <input type="text" placeholder="TÃ¬m nhÃ³m vÄƒn báº£n..." />
      </div>
      <div class="header__add">
        <button class="btn btn-primary" (click)="toggleCreate()">
          <span class="btn-icon">+</span>
          ThÃªm nhÃ³m vÄƒn báº£n
        </button>
      </div>
    </div>
    <div class="header__group header__group--block">
      <app-pagination [totalCount]="totalCount || 0" [pageOptions]="pageOptions" (pageChange)="onPageChange($event)"
        (pageSizeChange)="onPageSizeChange($event)"></app-pagination>
    </div>
  </div>

  <div class="document-categories__main">
    @if (documentCategories.length > 0) {
    <table class="document-categories__table">
      <thead>
        <tr>
          <th>ID</th>
          <th>TÃªn nhÃ³m vÄƒn báº£n</th>
          <th>MÃ´ táº£</th>
          <th>Tráº¡ng thÃ¡i</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        @for (category of documentCategories; track category.id) {
        <tr class="category-row">
          <td>{{ category.id }}</td>
          <td class="category-name-cell">
            <div class="category-name">{{ category.name }}</div>
            <div class="category-description">{{ category.description || 'KhÃ´ng cÃ³ mÃ´ táº£' }}</div>
          </td>
          <td>{{ category.description || '-' }}</td>
          <td>
            <span class="status-badge status-active">Hoáº¡t Ä‘á»™ng</span>
          </td>
          <td class="row-actions">
            <div class="actions-menu">
              <button class="menu-button" (click)="toggleMenu(category.id)">â‹®</button>
              @if (selectedMenuId === category.id) {
              <div class="dropdown-menu" (mouseleave)="toggleMenu(category.id)">
                <button class="menu-item" (click)="onEdit(category)">
                  <span class="btn-icon">âœï¸</span>
                  Chá»‰nh sá»­a
                </button>
                <button class="menu-item" (click)="onDelete(category)">
                  <span class="btn-icon">ğŸ—‘ï¸</span>
                  XÃ³a
                </button>
              </div>
              }
            </div>
          </td>
        </tr>
        }
      </tbody>
    </table>
    } @else {
    <div class="empty-state">
      <span class="empty-icon">ğŸ“</span>
      <p>ChÆ°a cÃ³ dá»¯ liá»‡u nhÃ³m vÄƒn báº£n.</p>
      <button class="btn btn-primary" (click)="toggleCreate()">
        <span class="btn-icon">+</span>
        ThÃªm nhÃ³m vÄƒn báº£n Ä‘áº§u tiÃªn
      </button>
    </div>
    }
  </div>
</div>

<app-document-category-create [isOpen]="isCreateOpen" (close)="toggleCreate()" (createdSuccessfully)="refetch()"></app-document-category-create>
<app-document-category-update [isOpen]="isUpdateOpen" [category]="updateSelected" (close)="toggleUpdate()" (updatedSuccessfully)="refetch()"></app-document-category-update>
<p-confirmdialog />
